#########################
ファイルの操作
#########################

.. contents::



本アプリで読み書きできるファイルの扱い
=========================================

　本アプリで作成され、また読み込むことができるファイルの注意点を説明します。

.. hint::
    これらのファイルは自由に配布可能です。

    WebGL画面にドラッグアンドドロップして読み込み可能です。

プロジェクトファイル
----------------------

    他の説明は :ref:`saveproject` や :ref:`openproject` をご覧ください。

    :拡張子: ``.vvmproj``

    使用可能なストレージとタイミング
        .. csv-table::
            :header-rows: 1

            アプリ環境, タイミング,  内部ストレージ, 端末のストレージ
            ウェブアプリ, 初回,  読み込み/書き込み, 読み込み
            ウェブアプリ, 2回目以降, 読み込み/書き込み, 書き込み（ダウンロードとしてのみ）
            各OS版, 初回, 読み込み/書き込み, 読み込み/書き込み
            各OS版, 2回目以降, 読み込み/書き込み, 読み込み/書き込み
        

    プロジェクトファイルに関連するデータ
        キャスト（VRMなどオブジェクト）
            タイムライン（ロール）に割り当てているオブジェクトの名称や形状・その他特別な情報があればそれらを保持します。

            プロジェクトファイルを開く際のオブジェクトの実際の情報は次の通りです。

            :ウェブアプリ版: ファイルオブジェクト自体アプリ内に保存
            :各OS版: ファイルパスやサイズ・種類のみアプリ内に保存
        
        モーションデータ
            | タイムライン（ロール）が対象です。キーフレームに登録した当時のオブジェクトの大きさ・形状を参考情報として保持します。
            | タイムライン（ロール）とキャストの割当方法は :ref:`settingcast2role` をご覧ください。
        
        プロジェクト自体の情報
            特に使いませんがプロジェクト名や説明文を保持可能です。

モーションファイル
-------------------

    詳しい説明は :ref:`savemotionfile` や :ref:`openmotionfile` をご覧ください。

    :拡張子: ``.vvmmot``

    　単一のタイムライン（ロール）のモーションデータ。キーフレームに登録した当時のオブジェクトの大きさ・形状を参考情報として保持します。

    　オブジェクト種類が一致していれば実際のキャスト（オブジェクト）には依存しません。VRMの場合、身長差は自動的に計算して再現されます。


ポーズファイル
----------------

    詳しい説明は :doc:`../man3/posing_save` や :doc:`../man3/posing_open` をご覧ください。

    :拡張子: ``.vvmpose``

    　VRMのみ使用可能。単位のタイムライン（ロール）の取得時のポーズデータ。キーフレームに登録している必要なく取得し保存可能です。取得当時のオブジェクトの大きさ・形状を参考情報として保持します。

    　実際のキャスト（オブジェクト）には依存しません。身長差は自動的に計算して再現されます。


オブジェクトファイル
=============================

　本アプリで読み込めるオブジェクトファイルは VRM を始め、各種3Dモデル、画像、音楽・音声ファイルです。

次のとおりです。WebGL画面にドラッグアンドドロップにも対応しています。

* Vroid/VRM(.vrm)
* その他3Dオブジェクト(.obj, .fbx, .zip, .gltf ,.glb, .ply, .stl, .3mf)
* 画像(.png, .jpg, .gif)

.. caution::
    音楽・音声ファイルはドラッグアンドドロップに対応していません。

